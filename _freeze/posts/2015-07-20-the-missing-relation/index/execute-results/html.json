{
  "hash": "de9d7f8a64c62f42910f41d1c727f853",
  "result": {
    "markdown": "---\ntitle: \"The missing relation\"\ndescription: |\n  Redesigning a grouped-bar chart and including missing data to reveal an \n  important change to the story in the data. \ndate: \"2015-07-20\"\ndate-format: \"YYYY-MM-DD\"\ndraft: false\ncategories: [R, Data storytelling, Engineering education]\nimage: \"thumbnail.png\"\ncap-location: margin\n---\n\n\n\n\n:::{.callout-note}\n## Summary \n<em>In redesigning a bar chart, I add data for context that shifts the focus of the story. I also correct a visual distortion by substituting a scatterplot for a bar chart that has a non-zero baseline.</em>\n:::\n\nIn August 2007, *Science* published a bar graph that illustrates how design decisions made to attract a reader's eye can also distort and conceal meaning. While the distortions were surely unintentional, the integrity of the story in the data was compromised nevertheless.\n\nA colleague and I noted the perceptual issues of this bar graph when the article first appeared. With the permission of the first author, Norm Fortenberry, we sent a shorter version of this critique to the *Science* editor. They responded by posting a scatterplot much like the one shown here in an online addendum.\n\nThe R code for the post is listed under the “R code” pointers.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# packages\nlibrary(\"data.table\")\nlibrary(\"ggplot2\")\n```\n:::\n\n\n## The original graph\n\nThe graph shows a time series of retention rates for two cohorts of undergraduate students [@Fortenberry+Sullivan+etal:2007]. One cohort had matriculated in engineering in a First Year Engineering Program (FYEP) and one cohort had not (non-FYEP). The main story is clear, that retention rates drop over time for both cohorts but that FYEP students are always retained at a higher rate than non-FYEP students. Yet the graph design distorts one comparison and omits another.\n\n![Graph from *Science*. Reprinted with permission from AAAS.](science-figure.png)\n\n## Visual distortion\n\nThe visual design distorts the relationship between the two cohorts. While the printed numbers show that the difference between the two cohorts remains fairly constant (about 10%) over time, the *visual* message conveyed by the bar heights is that the difference between cohorts increases over time. The FYEP bar is at first approximately 1/3 higher than the adjacent bar, then nearly twice as high, then more than three times as high.\n\n\n::: {.cell fig.asp='0.8'}\n\n```{.r .cell-code}\n# read data from blog data directory\ndt <- fread(\"data/retention-2007.csv\")\n\n# grouped bar graph \n# use y = pct - 50 to force ggplot to produce a non-zero baseline \n# then relabel the y-axis scale, i.e., 0 is labeled 50%\nggplot(dt, aes(x = term, y = pct-50, color = status, fill = status)) +\n  geom_bar(stat = \"identity\", \n           position = position_dodge(), \n           width = 0.8, \n           color = \"black\") + \n  scale_x_continuous(breaks = c(3, 5, 7), \n                     labels = c(\"Third\", \"Fifth\", \"Seventh\"), \n                     expand = c(0.05, 0.15)) +\n  scale_y_continuous(limits = c(0, 40), \n                     breaks = seq(0, 40, 10), \n                     labels = c(\"50%\", \"60%\", \"70%\", \"80%\", \"90%\"), \n                     expand = c(0, 0)) +\n  scale_fill_manual(values = c(\"gray80\", \"lightgoldenrod1\")) +\n  labs(x = \"Semester\", \n       y = \"Retention rate\") +\n  annotate(\"text\", \n           x = 0.1 + c(3, 5, 7), \n           y = -50 + c(85, 70, 62), \n           label = c(\"aprox. 1/3 higher\", \n                     \"approx. 2x higher\", \n                     \"more than\\n3x higher\"), \n           hjust = 0) + \n  theme_light() + \n  theme(legend.position = \"none\", \n        panel.grid.major = element_blank(), \n        panel.grid.minor = element_blank())\n```\n\n::: {.cell-output-display}\n![A non-zero baseline distorts the visual comparisons of bars.](index_files/figure-html/fig-non-zero-baseline-1.png){#fig-non-zero-baseline width=672}\n:::\n:::\n\n\nThe problem is the non-zero baseline---a well-known concern when using bar charts. Naomi Robbins [reminds us](https://www.forbes.com/sites/naomirobbins/2012/08/28/must-zero-be-included-on-scales-of-graphs-another-look-at-fox-news-graph-and-huffs-gee-whiz-graph/?sh=677d422b259c) that not all graphs require a zero baseline, contrary to Darrell Huff's advice in his 1954 classic *How to Lie with Statistics*, but a bar graph without a zero baseline inevitably (and sometimes purposefully) exaggerates differences.\n\nThe caption reinforces the miscommunication by stating that the FYEP course \"improved retention...into the third, fifth, and seventh semester,\" subtly implying a difference that increases over time rather than remaining constant.\n\n## Data structure\n\nBecause the structure of a data set is an important factor in designing a chart, I classify the variables in Table 1.\n\n<small>\n\n::: {#tbl-data-structure .cell tbl-cap='Data structure'}\n::: {.cell-output-display}\n|variable          |structure                                     |\n|:-----------------|:---------------------------------------------|\n|term              |categorical, ordinal, discrete time, 3 levels |\n|status            |categorical, nominal, 2 levels                |\n|percent retention |quantitative                                  |\n:::\n:::\n\n</small>\n\nThe data are available in the blog data directory as a [CSV file](https://raw.githubusercontent.com/graphdr/data-stories/main/data/retention-2007.csv).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# read prepared data\ndt <- fread(\"data/retention-2007.csv\")\n```\n:::\n\n\n## Redesign\n\nA prominent element of this grouped-bar design is time on the horizontal axis, implying that time is the independent variable. Conventionally, time-dependent variables are best graphed as scatterplots with connected dots to display their evolution over time [@Doumont:2009, 141]. The difference between the two cohorts is clearly seen to be nearly constant.\n\n\n::: {.cell fig.asp='0.4'}\n\n```{.r .cell-code}\n# redesign the bar chart as a scatterplot\nf <- ggplot(data = dt, mapping = aes(x = term, y = pct, fill = status)) +\n  \n  # helper line to almost connect the dots \n  geom_line(linetype = 2, color = \"gray60\") +\n  \n  # white point overprints the line\n  geom_point(size = 9, shape = 16, color = \"white\") +\n  \n  # data marker overprints the white space \n  geom_point(size = 3, shape = 16, color = \"black\") +\n  \n  # scales \n  scale_x_continuous(limits = c(1, 7), breaks = c(1, 3, 5, 7)) +\n  scale_y_continuous(limits = c(50, 100), breaks = seq(0, 100, 20)) + \n  labs(x = \"Semester\", y = \"Retention rate\") + \n  \n  # edit theme \n  theme_light() + \n  theme(legend.position = \"none\", \n        panel.grid = element_blank(), \n        axis.text = element_text(size = 11), \n        axis.title = element_text(size = 11))\n\n# print\nf\n```\n\n::: {.cell-output-display}\n![Scatterplot of the numerical values in the original bar chart.](index_files/figure-html/fig-redesign-no-term-1-1.png){#fig-redesign-no-term-1 width=672}\n:::\n:::\n\n\nHowever, a significant story in these data is (inadvertently) overlooked by omitting semester one, the point in time at which both cohorts would be considered 100% retained---the \"missing relation\" in the title. Only by including the starting time point can we see the importance of the early semesters.\n\nThe overlooked story is the early impact of the FYEP course with its higher rate of retention from semester 1 to 3. After semester 3, the factors affecting attrition seem to act on both groups equally---the lines are effectively parallel after semester 3. Thus the important impact of FYEP is in the first two terms. The visual story is clear when we include the missing term.\n\n\n::: {.cell fig.asp='0.4'}\n\n```{.r .cell-code}\n# add the missing term 1 \nsem1 <- data.table(term = c(1, 1), status = c(\"fyep\", \"nonfyep\"), pct = c(100, 100))\ndt2 <- rbindlist(list(sem1, dt))\n\n# substitute data in the previous chart\ng <- f %+% dt2\ng\n```\n\n::: {.cell-output-display}\n![Adding the first term in which both cohorts are at 100%.](index_files/figure-html/fig-redesign-with-term-1-1.png){#fig-redesign-with-term-1 width=672}\n:::\n:::\n\n\nOne final design point: unlike a bar graph, a scatter plot does not require a zero baseline. However, I can include the full 0--100% range to display that the lowest rate of retention is still above 50%, an important result (as discussed in the prose of the article) compared to the retention rates of non-engineering disciplines. e.g., 42% in biological sciences and 30% in math and physical sciences.\n\n\n::: {.cell fig.asp='0.8'}\n\n```{.r .cell-code}\n# start with the previous chart, replace the scale\nh <- g %+% \n  scale_y_continuous(limits = c(0, 100), breaks = seq(0, 100, 20)) +\n  \n  # label the lines\n  annotate(\"text\", \n           x = c(4, 2), \n           y = c(85, 68), \n           label = c(\"FYEP students\\n(N = 2218)\", \"Non-FYEP students\\n(N = 2942)\"), \n           hjust = 0)\nh\n```\n\n::: {.cell-output-display}\n![Providing a full scale on the y-axis.](index_files/figure-html/fig-final-redesign-1.png){#fig-final-redesign width=672}\n:::\n:::\n\n\n## Context\n\nMy critique to this point has focused on clarity and a minimalist design aesthetic, hallmarks of the \"rhetoric of science\" [@Kostelnick:2008]. However, recognizing that these downward sloping curves represent decisions made by real students invites us to ask about the human stories in these data. Are the students in either group better off? Are the students who leave engineering graduating in other disciplines? Is retention even a concern to students? In light of such questions, the graphs seem inadequate, as if we've missed an opportunity to tell important human stories.\n\nIn the text of the article, the authors do address such concerns. Retention rates reflect student decisions that are influenced almost exclusively by human factors: \"student's background, college administrative issues, academic and social integration, attitude and motivation, and fit within an institution.\" Thus the retention data are a surrogate measure of some combination of these factors.\n\nThe original graph displays only six paired values (rate and semester). And though my redesigned graph corrects the distortions of the original, it still displays only eight paired values. Neither graph has the visual impact it might have had if designed to convey the important story the authors tell in their prose.\n\n### Reprinted AAAS material {.appendix}\n\nReaders may view, browse, and/or download material for temporary copying purposes only, provided these uses are for noncommercial personal purposes. Except as provided by law, this material may not be further reproduced, distributed, transmitted, modified, adapted, performed, displayed, published, or sold in whole or in part, without prior written permission from the publisher.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}